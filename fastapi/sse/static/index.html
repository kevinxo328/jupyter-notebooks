<!DOCTYPE html>
<html>

<head>
    <title>Server Sent Events ver. EventSource</title>
</head>

<body>
    <h1>Server Sent Events ver. EventSource</h1>
    <div id="events"></div>
    <script>
        const events = new EventSource('/sse');
        events.addEventListener('message', function (event) {
            document.getElementById('events').innerHTML += event.data + '<br>';
        });

        events.onerror = function (event) {
            console.log('Error', event);
            document.getElementById('events').innerHTML += event.data + '<br>';

        };

        events.addEventListener('end', function (event) {
            events.close();
            document.getElementById('events').innerHTML += event.data + '<br>';
        });
    </script>
</body>

</html>